<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <title>Vitrine dos Links — Painel</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" href="/public/assets/images/favicon.png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./app.css">
</head>

<body>
    <div class="layout">
        <!-- SIDEBAR FIXO -->
        <aside class="sidebar">
            <div class="brand">
                <img src="/public/assets/images/logo.png" alt="Vitrine dos Links" class="brand-logo">
            </div>

            <nav class="menu">
                <a class="menu-link" href="#/inicio">
                    <span class="menu-dot"></span> Tela inicial
                </a>
                <a class="menu-link" href="#/minha-pagina">
                    <span class="menu-dot"></span> Minha Página
                </a>

                <div class="menu-sep"></div>

                <a class="menu-link" href="#/cadastrar-produto" data-disabled>
                    <span class="menu-dot"></span> Cadastrar Produto
                </a>
                <a class="menu-link" href="#/listar-produtos" data-disabled>
                    <span class="menu-dot"></span> Listar Produtos
                </a>
            </nav>

            <button id="btnLogout" class="btn-logout" type="button">Sair</button>
        </aside>

        <!-- CONTEÚDO -->
        <main class="content">
            <header class="topbar">
                <h1 id="pageTitle">Carregando…</h1>
                <div class="userpill" id="userEmail" aria-live="polite"></div>
            </header>

            <section id="view" class="view" aria-live="polite" aria-busy="true">
                <!-- O HTML da rota entra aqui -->
            </section>
        </main>
    </div>

    <!-- Gate obrigatório de slug (fica presente em TODO o SPA) -->
    <div id="slugLock" class="slug-lock" aria-hidden="true">
        <div class="slug-lock__backdrop"></div>

        <section class="slug-lock__modal" role="dialog" aria-modal="true" aria-labelledby="slugLockTitle">
            <header class="slug-lock__header">
                <img src="/public/assets/images/logo.png" alt="Vitrine dos Links" class="slug-lock__logo" />
                <h2 id="slugLockTitle">Bem-vindo! Defina o link da sua página</h2>
                <p class="slug-lock__subtitle">Este nome será parte do seu endereço e <strong>não poderá ser
                        alterado</strong> depois.</p>
            </header>

            <form id="slugForm" class="slug-lock__form" novalidate>
                <label for="slugInput" class="slug-lock__label">Escolha seu nome (apenas minúsculas, números e
                    “-”)</label>
                <div class="slug-lock__inputrow">
                    <span class="slug-lock__prefix">vitrinedoslinks.com.br/</span>
                    <input id="slugInput" name="slug" inputmode="lowercase" placeholder="seu-nome" autocomplete="off"
                        required />
                </div>
                <small id="slugHint" class="slug-lock__hint">Ex.: <code>loja-do-joao</code>,
                    <code>maria-doces</code></small>
                <small id="slugError" class="slug-lock__error" aria-live="polite"></small>

                <div class="slug-lock__actions">
                    <button type="button" id="slugCancel" class="btn btn--ghost">Agora não</button>
                    <button type="submit" id="slugSubmit" class="btn btn--primary">Confirmar</button>
                </div>
            </form>
        </section>

        <!-- Confirmação (segunda etapa) -->
        <section id="slugConfirm" class="slug-confirm" role="dialog" aria-modal="true"
            aria-labelledby="slugConfirmTitle" hidden>
            <div class="slug-confirm__card">
                <h3 id="slugConfirmTitle">Confirmar nome da página?</h3>
                <p>Deseja usar <strong id="slugConfirmValue"></strong> como o nome permanente da sua página?</p>
                <div class="slug-confirm__actions">
                    <button type="button" id="slugBack" class="btn btn--ghost">Voltar</button>
                    <button type="button" id="slugYes" class="btn btn--primary">Sim, confirmar</button>
                </div>
            </div>
        </section>
    </div>

    <script type="module" src="./slug-lock.js"></script>
    <script type="module" src="./app.js"></script>
</body>

</html>